(this["webpackJsonpchicken-shop"]=this["webpackJsonpchicken-shop"]||[]).push([[0],{45:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a(28),l=a.n(s),n=(a(45),a(46),a(3)),r=a(5),i=a(4),d=a.n(i),o=a(6),j=a(20),b=a(8),m=a.n(b),h=a.p+"static/media/waiting.f853ce4e.jpg",O=a(9),u=a(1),x=function(e){var t=Object(r.i)().id,a=Object(c.useState)([]),s=Object(n.a)(a,2),l=s[0],i=s[1],b=Object(c.useState)(),x=Object(n.a)(b,2),p=x[0],g=x[1],N=Object(c.useState)(!1),f=Object(n.a)(N,2),v=f[0],y=f[1],w=Object(c.useState)(!1),C=Object(n.a)(w,2),S=C[0],k=C[1],E=Object(c.useState)(),F=Object(n.a)(E,2),_=(F[0],F[1],Object(c.useState)()),R=Object(n.a)(_,2),T=R[0],D=R[1],I=Object(c.useState)(!1),P=Object(n.a)(I,2),L=P[0],M=P[1],A=Object(c.useState)(!1),B=Object(n.a)(A,2),q=B[0],z=B[1],Y=Object(c.useState)(0),W=Object(n.a)(Y,2),J=W[0],U=W[1],G=Object(c.useState)(!1),K=Object(n.a)(G,2),Z=K[0],H=K[1],Q=Object(c.useState)(!1),V=Object(n.a)(Q,2),X=(V[0],V[1]),$=Object(c.useState)(!1),ee=Object(n.a)($,2),te=(ee[0],ee[1]),ae=Object(c.useState)(!1),ce=Object(n.a)(ae,2);ce[0],ce[1];Object(c.useEffect)((function(){d.a.get("http://localhost:5000/flock").then((function(t){console.log(t.data),i(t.data.flocks),e.flock(t.data.flocks)})).catch((function(e){y(!0),console.log(e)}))}),[J]),Object(c.useEffect)((function(){X(!1),te(!1)}),[]);var se=function(){k(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("div",{className:"row sparkboxes",children:Object(u.jsx)("div",{className:"col-md-12",children:Object(u.jsxs)("div",{className:"box box1 ",children:[Object(u.jsxs)("div",{className:"row mb-2",children:[Object(u.jsx)("div",{className:"col-md",children:Object(u.jsx)("h2",{className:"spark-box-value",children:"Sanan Poultry Farm "})}),Object(u.jsx)("div",{className:"col-md d-flex justify-content-end",children:Object(u.jsx)(u.Fragment,{children:Z?Object(u.jsxs)(u.Fragment,{children:[" ",Object(u.jsx)("input",{type:"text",className:" plack-input",placeholder:"Enter New Flock",value:p,onChange:function(e){return g(e.target.value)}}),Object(u.jsx)("button",{className:"btn-icon   float-end shadow",style:{marginLeft:".5em"},"data-toggle":"popover","aria-label":"Add New",onClick:function(){p?d.a.post("http://localhost:5000/api/flock",{headers:{"Content-Type":"application/json"},flock:p,date:m()().format("MMM Do YY")+" "+m()().format(" h:mm:ss a")}).then((function(e){console.log(e),g(""),X(!0),U(J+1),H(!Z)})).catch((function(e){console.log(e),te(!0)})):H(!1)},"data-cooltipz-dir":"bottom",children:Object(u.jsx)(o.a,{})})]}):Object(u.jsxs)(u.Fragment,{children:[" ",Object(u.jsxs)("label",{className:"dropdown",children:[Object(u.jsx)("div",{className:"dd-button",onClick:function(){return k(!0)},children:t&&l.length>0?l.filter((function(e){return e.id==t}))[0].flock:"Select Flock"}),Object(u.jsx)("input",{type:"checkbox",className:"dd-input",id:"test"}),S&&Object(u.jsx)("ul",{className:"dd-menu",children:v?Object(u.jsx)("li",{children:"error..."}):l.map((function(e){return Object(u.jsx)("li",{onClick:se,children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(O.b,{to:"home/".concat(e.id),children:e.flock}),t!=e.id&&Object(u.jsx)("span",{className:"text-danger  float-end ","data-toggle":"popover","aria-label":e.flock,"data-bs-toggle":"modal","data-bs-target":"#deleteflock",onClick:function(){return function(e){D(e),M(!1),z(!1)}(e.id)},"data-cooltipz-dir":"bottom",children:Object(u.jsx)(j.a,{})}),Object(u.jsx)("br",{}),Object(u.jsx)("small",{children:e.data})]})})}))})]}),Object(u.jsx)("button",{className:"btn-icon   float-end shadow",style:{marginLeft:".5em"},"data-toggle":"popover","aria-label":"Add New",onClick:function(){return H(!Z)},"data-cooltipz-dir":"bottom",children:Object(u.jsx)(o.a,{})})," "]})})})]}),Object(u.jsx)("button",{className:"btn-icon   float-end shadow",style:{marginRight:".5em"},"data-toggle":"popover","aria-label":"refresh states",onClick:function(){return U(J+1)},"data-cooltipz-dir":"bottom",children:Object(u.jsx)(o.f,{})})]})})}),!t&&Object(u.jsxs)("div",{className:"ps-5 float-center ",children:[Object(u.jsx)("img",{className:"col-md-8 ",src:h,width:"900px",height:"600px"}),Object(u.jsx)("h1",{className:"col-md-12 text-danger",children:"Please Select Flock "})]})]}),Object(u.jsx)("div",{className:"modal fade",id:"deleteflock",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("div",{className:"modal-body",children:!L&&q?Object(u.jsx)("p",{className:"text-danger",children:"The flock is deleted successfully"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{className:"text-danger",children:"Are You sure to delete this flock"}),Object(u.jsx)("p",{className:"text-danger",children:"warning if you delete the flock you will lost all the related data with this flock"})]})}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancel"}),!q&&Object(u.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){d.a.delete("http://localhost:5000/flock/".concat(T)).then((function(e){e.data.delete?(U(J+1),M(!1),z(!0)):M(!0),console.log(e.data.msg),U(J+1)})).catch((function(e){M(!0),console.log(e)}))},children:"Yes"})]})]})})})]})},p=function(){var e=Object(c.useState)([]),t=Object(n.a)(e,2),a=t[0],s=t[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{flock:function(e){s(e),console.log(a)}}),Object(u.jsx)(r.b,{flock:a})]})},g=a(14),N=a.n(g),f=a(17),v=a(15),y=a(10),w=a.p+"static/media/success.c2eff952.jpg",C=a.p+"static/media/err.5c9690e6.jpg";var S=function(e){var t=Object(c.useState)(""),a=Object(n.a)(t,2),s=a[0],l=a[1],r=Object(c.useState)(""),i=Object(n.a)(r,2),o=i[0],j=i[1],b=Object(c.useState)(""),h=Object(n.a)(b,2),O=h[0],x=h[1],p=Object(c.useState)(""),g=Object(n.a)(p,2),N=g[0],f=g[1],v=Object(c.useState)(""),S=Object(n.a)(v,2),k=S[0],E=S[1],F=Object(c.useState)(!1),_=Object(n.a)(F,2),R=_[0],T=_[1],D=Object(c.useState)(!1),I=Object(n.a)(D,2),P=I[0],L=I[1];Object(c.useEffect)((function(){T(!1),L(!1)}),[]);var M=function(t){t.preventDefault(),d.a.post("http://localhost:5000/api/customer",{headers:{"Content-Type":"application/json"},Name:s,phone:o,phone1:O,address:N,des:k,date:m()().format("MMM Do YY")}).then((function(t){console.log(t),l(""),j(""),x(""),f(""),E(""),T(""),T(!0),e.Refresh()})).catch((function(e){console.log(e),L(!0)}))},A=function(){T(!1),L(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:"btn-icon bg-info  float-end shadow","data-bs-toggle":"modal","data-bs-target":"#exampleModal","data-toggle":"popover","aria-label":"Add New Customer","data-cooltipz-dir":"bottom",children:Object(u.jsx)(y.c,{})}),Object(u.jsx)("div",{className:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add New Customer"}),Object(u.jsx)("button",{type:"button",className:"btn-close",onClick:A,"data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{className:"modal-body",children:P?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:C,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-danger",children:"Sorry something is wrong, Please Try Again"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]}):R?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:w,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-success",children:"Customer added Succesfully"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:A,"data-bs-dismiss":"modal",children:"Close"})})]}):Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{onSubmit:function(e){return M(e)},children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Name"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",placeholder:"Enter Customer Name",value:s,onChange:function(e){return l(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Phone 1"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",placeholder:"Enter phone number",value:o,onChange:function(e){return j(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Phone 2"}),Object(u.jsx)("input",{type:"Text",placeholder:"Enter another phone number",className:"form-control shadow-none",value:O,onChange:function(e){return x(e.target.value)}})]})]}),Object(u.jsxs)("div",{className:" mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Address"}),Object(u.jsx)("input",{type:"Text",placeholder:"Enter Customer Address",className:"form-control shadow-none",value:N,onChange:function(e){return f(e.target.value)}})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Description"}),Object(u.jsx)("textarea",{type:"Text",className:"form-control shadow-none",placeholder:"Enter Customer Description ",value:k,onChange:function(e){return E(e.target.value)}})]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)("button",{type:"submit",onClick:M,className:"btn btn-primary",children:"Save"})]})]})})})]})})})]})},k=a.p+"static/media/loading.113cacc8.jpg",E=a.p+"static/media/zero.9059331c.jpg";var F=function(){var e=Object(r.i)().id,t=Object(c.useState)(),a=Object(n.a)(t,2),s=a[0],l=a[1],i=Object(c.useState)(),b=Object(n.a)(i,2),m=b[0],h=b[1],x=Object(c.useState)([]),p=Object(n.a)(x,2),g=p[0],F=p[1],_=Object(c.useState)(0),R=Object(n.a)(_,2),T=R[0],D=R[1],I=Object(c.useState)(!1),P=Object(n.a)(I,2),L=P[0],M=P[1],A=Object(c.useState)(!1),B=Object(n.a)(A,2),q=B[0],z=B[1],Y=Object(c.useState)(!1),W=Object(n.a)(Y,2),J=W[0],U=W[1],G=Object(c.useState)(""),K=Object(n.a)(G,2),Z=K[0],H=K[1],Q=Object(c.useState)(""),V=Object(n.a)(Q,2),X=V[0],$=V[1],ee=Object(c.useState)(""),te=Object(n.a)(ee,2),ae=te[0],ce=te[1],se=Object(c.useState)(""),le=Object(n.a)(se,2),ne=le[0],re=le[1],ie=Object(c.useState)(""),de=Object(n.a)(ie,2),oe=de[0],je=de[1],be=Object(c.useState)(!1),me=Object(n.a)(be,2),he=me[0],Oe=me[1],ue=Object(c.useState)(!1),xe=Object(n.a)(ue,2),pe=xe[0],ge=xe[1];Object(c.useEffect)((function(){Ne()}),[s]),Object(c.useEffect)((function(){d.a.get("http://localhost:5000/customers").then((function(e){h(e.data.customers),F(e.data.customers),console.log(e.data.customers)})).catch((function(e){M(!0),console.log(e)}))}),[T]);var Ne=function(){var e=Object(f.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s?(a=m.filter((function(e){return e.Name.toLowerCase().includes(s)})),console.log("result :",a),F(a)):(F(m),console.log("row :",g));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=Object(c.useState)(),ve=Object(n.a)(fe,2),ye=ve[0],we=ve[1],Ce=function(e){var t=m.filter((function(t){return t.id==e}));we(t[0]),H(t[0].Name),$(t[0].phone),ce(t[0].phone1),re(t[0].address),je(t[0].des),console.log(t)},Se=function(){Oe(!1),ge(!1)},ke=function(){D(T+1),console.log("data refresh: "+T)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header bg-success",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-md-5",children:Object(u.jsx)("p",{className:"m-0 pt-2 card-title text-light",children:"Customers"})}),Object(u.jsxs)("div",{className:"col-md-7",children:[Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"searchInput",children:[Object(u.jsx)("span",{className:"icon",children:Object(u.jsx)(v.b,{})}),Object(u.jsx)("input",{type:"search",id:"search",onChange:function(e){e.target.value?l(e.target.value):F(m)},placeholder:"Search..."})]})}),Object(u.jsx)(S,{Refresh:ke})]})]})}),Object(u.jsxs)("div",{className:"card-body ",children:[J&&Object(u.jsxs)("div",{class:"alert alert-success d-flex align-items-center",role:"alert",children:[Object(u.jsx)(y.a,{}),Object(u.jsx)("div",{children:"Customer has been deleted successfully"})]}),q&&Object(u.jsxs)("div",{class:"alert alert-danger d-flex align-items-center",role:"alert",children:[Object(u.jsx)(o.d,{}),Object(u.jsx)("div",{children:"User could not delete. Please try again or Restart your pc || app"})]}),L?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:C,width:"600px",height:"400px"}),Object(u.jsx)("h3",{className:"text-danger",children:"Someting is wrong please Restart your app "})]}):m&&g?0==!m.length?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"table-responsive",children:Object(u.jsxs)("table",{className:"table table-bordered table-striped table-hover",children:[Object(u.jsx)("caption",{children:"All Your Customers"}),Object(u.jsx)("thead",{className:"",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{scope:"col",children:"contacts"}),Object(u.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(u.jsx)("tbody",{children:g.map((function(t,a){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{scope:"row",children:a+1}),Object(u.jsx)("td",{children:Object(u.jsxs)(O.b,{to:"/customer/".concat(t.id,"/").concat(e),children:[t.Name," ",Object(u.jsx)("br",{}),Object(u.jsxs)("small",{children:["from: ",t.date]})]})}),Object(u.jsxs)("td",{children:[t.phone,Object(u.jsx)("br",{}),t.phone1]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"btn-icon bg-danger action bg-info mt-2 float-end shadow","data-toggle":"popover",onClick:function(){return function(e){console.log("delete id: "+e),d.a.delete("http://localhost:5000/customer/".concat(e)).then((function(e){e.data.delete?(D(T+1),z(!1),U(!0),setTimeout((function(){return U(!1)}),5e3)):z(!0),console.log(e.data.msg),D(T+1)})).catch((function(e){z(!0),console.log(e)}))}(t.id)},"aria-label":"Delete Customer","data-cooltipz-dir":"bottom",children:Object(u.jsx)(j.b,{})}),Object(u.jsx)("button",{className:"btn-icon bg-warning action bg-info mt-2 float-end shadow","data-toggle":"popover","aria-label":"Edit Customer","data-cooltipz-dir":"bottom","data-bs-toggle":"modal","data-bs-target":"#edit",onClick:function(){return Ce(t.id)},children:Object(u.jsx)(y.b,{})})]})]},a)}))})]})})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:E,width:"600px",height:"400px"}),Object(u.jsx)("h2",{className:"text-info",children:"Sorry There are No customers "})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:k,width:"600px",height:"400px"}),Object(u.jsx)("h2",{className:"text-info",children:"Loading... "})]})]}),Object(u.jsx)("div",{className:"modal fade",id:"edit",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit Customer"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{className:"modal-body",children:pe?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:C,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-danger",children:"Sorry something is wrong, Please Try Again"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:Se,"data-bs-dismiss":"modal",children:"Close"})})]}):he?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:w,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-success",children:"Customer added Succesfully"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:Se,"data-bs-dismiss":"modal",children:"Close"})})]}):Object(u.jsx)(u.Fragment,{children:m?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Name"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",placeholder:"Enter Customer Name",value:Z,onChange:function(e){return H(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Phone 1"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",placeholder:"Enter phone number",value:X,onChange:function(e){return $(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Phone 2"}),Object(u.jsx)("input",{type:"Text",placeholder:"Enter another phone number",className:"form-control shadow-none",value:ae,onChange:function(e){return ce(e.target.value)}})]})]}),Object(u.jsxs)("div",{className:" mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Address"}),Object(u.jsx)("input",{type:"Text",placeholder:"Enter Customer Address",className:"form-control shadow-none",value:ne,onChange:function(e){return re(e.target.value)}})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Description"}),Object(u.jsx)("textarea",{type:"Text",className:"form-control shadow-none",placeholder:"Enter Customer Description ",value:oe,onChange:function(e){return je(e.target.value)}})]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)("button",{type:"submit",onClick:function(){d.a.put("http://localhost:5000/customer/".concat(ye.id),{Name:Z,phone:X,phone1:ae,address:ne,des:oe}).then((function(e){console.log(e),e.data.update?(H(""),$(""),ce(""),re(""),je(""),Oe(!0)):ge(!0),ke()})).catch((function(e){console.log(e),ge(!0)}))},className:"btn btn-primary",children:"Save"})]})]}):Object(u.jsx)("h1",{children:"Loading.."})})})]})})})]})})};var _=function(e){var t=Object(r.i)().id,a=Object(c.useState)(""),s=Object(n.a)(a,2),l=s[0],i=s[1],j=Object(c.useState)(""),b=Object(n.a)(j,2),h=b[0],O=b[1],x=Object(c.useState)(""),p=Object(n.a)(x,2),g=p[0],N=p[1],f=Object(c.useState)([]),v=Object(n.a)(f,2),y=v[0],S=v[1],k=Object(c.useState)(""),E=Object(n.a)(k,2),F=E[0],_=E[1],R=Object(c.useState)(""),T=Object(n.a)(R,2),D=T[0],I=T[1],P=Object(c.useState)(!1),L=Object(n.a)(P,2),M=L[0],A=L[1],B=Object(c.useState)(!1),q=Object(n.a)(B,2),z=q[0],Y=q[1],W=Object(c.useState)(""),J=Object(n.a)(W,2),U=J[0],G=J[1],K=Object(c.useState)(""),Z=Object(n.a)(K,2),H=Z[0],Q=Z[1],V=Object(c.useState)(1),X=Object(n.a)(V,2),$=X[0],ee=X[1],te=Object(c.useState)(e.flock),ae=Object(n.a)(te,2),ce=(ae[0],ae[1]);Object(c.useEffect)((function(){A(!1),Y(!1),ce(e.flock)}),[e]),Object(c.useEffect)((function(){d.a.get("http://localhost:5000/customers").then((function(e){S(e.data.customers)})).catch((function(e){Y(!0),console.log(e)}))}),[$]);var se=function(){A(!1),Y(!1)};return console.log(h),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:"btn-icon bg-info  float-end shadow","data-bs-toggle":"modal","data-bs-target":"#ceateorders","data-toggle":"popover","aria-label":"Create Order","data-cooltipz-dir":"bottom",children:Object(u.jsx)(o.c,{})}),Object(u.jsx)("div",{className:"modal fade",id:"ceateorders",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Create Order"}),Object(u.jsx)("button",{type:"button",className:"btn-close",onClick:se,"data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{className:"modal-body",children:z?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:C,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-danger",children:"Sorry something is wrong, Please Try Again"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:se,"data-bs-dismiss":"modal",children:"Close"})})]}):M?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:w,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-success",children:"Customer added Succesfully"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:se,"data-bs-dismiss":"modal",children:"Close"})})]}):Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{onSubmit:function(a){return function(a){a.preventDefault(),d.a.post("http://localhost:5000/order",{car:l,Customer_id:h,broker:g,weight:F,driver:D,Rate:U,flock_id:t,advance:H,date:m()().format("MMM Do YY"),time:m()().format(" h:mm:ss a")}).then((function(t){console.log(t),i(""),O(""),N(""),_(""),I(""),G(""),Q(""),Y(!1),A(!0),e.Refresh()})).catch((function(e){console.log(e),Y(!0)}))}(a)},children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsxs)("label",{for:"exampleInputEmail1",className:"form-label",children:["Customer ",Object(u.jsx)("span",{"data-toggle":"popover","aria-label":"Refresh",onClick:function(){return ee($+1)},"data-cooltipz-dir":"bottom",children:Object(u.jsx)(o.f,{})})]}),Object(u.jsxs)("select",{className:"form-select shadow-none","aria-label":"Default select example",onChange:function(e){return O(e.target.value)},children:[Object(u.jsx)("option",{selected:!0,children:"Select Customer"}),y.map((function(e){return Object(u.jsxs)("option",{value:e.id,children:[e.Name," (",e.address,")"]})}))]})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Car #"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",placeholder:"Enter Car #",value:l,onChange:function(e){return i(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Broker"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",placeholder:"Enter broker Name",value:g,onChange:function(e){return N(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Car Driver"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",placeholder:"Enter Car Driver Name",value:D,onChange:function(e){return I(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Rate"}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none",placeholder:"Enter Rate",value:U,onChange:function(e){return G(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Advance"}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none",placeholder:"Enter Advance payment",value:H,onChange:function(e){return Q(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Car weight (first weight)"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control shadow-none",placeholder:"Enter Car first weight",value:F,onChange:function(e){return _(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})})})]})})})]})},R=a(19),T=a(21),D=a.n(T),I=a(18),P=a(16),L=a.n(P),M=a(26);var A=function(e){var t=Object(r.i)().id,a=Object(c.useState)(),s=Object(n.a)(a,2),l=s[0],i=s[1],j=Object(c.useState)(),b=Object(n.a)(j,2),h=b[0],x=b[1],p=Object(c.useState)(0),g=Object(n.a)(p,2),S=g[0],F=g[1],_=Object(c.useRef)(),T=Object(c.useState)(),P=Object(n.a)(T,2),A=P[0],B=P[1],q=Object(c.useState)(A),z=Object(n.a)(q,2),Y=z[0],W=z[1],J=Object(c.useState)(!1),U=Object(n.a)(J,2),G=U[0],K=U[1];console.log(t);var Z=Object(c.useState)(0),H=Object(n.a)(Z,2),Q=H[0],V=H[1],X=Object(c.useState)(""),$=Object(n.a)(X,2),ee=$[0],te=$[1],ae=Object(c.useState)(),ce=Object(n.a)(ae,2),se=ce[0],le=ce[1],ne=Object(c.useState)(),re=Object(n.a)(ne,2),ie=re[0],de=re[1],oe=Object(c.useState)(""),je=Object(n.a)(oe,2),be=je[0],me=je[1],he=Object(c.useState)(""),Oe=Object(n.a)(he,2),ue=Oe[0],xe=Oe[1],pe=Object(c.useState)(0),ge=Object(n.a)(pe,2),Ne=ge[0],fe=ge[1],ve=Object(c.useState)(!1),ye=Object(n.a)(ve,2),we=ye[0],Ce=ye[1],Se=Object(c.useState)(!1),ke=Object(n.a)(Se,2),Ee=ke[0],Fe=ke[1],_e=Object(c.useState)(!1),Re=Object(n.a)(_e,2),Te=Re[0],De=Re[1],Ie=Object(c.useState)(!1),Pe=Object(n.a)(Ie,2),Le=Pe[0],Me=Pe[1];Object(c.useEffect)((function(){d.a.get("http://localhost:5000/orders/".concat(t)).then((function(e){B(e.data),W(e.data),console.log(e.data)})).catch((function(e){K(!0),console.log(e)}))}),[S,t]);var Ae=function(e){var t=A.filter((function(t){return t.id==e}));x(t[0]),V(t[0].Total_payment),te(t[0].Customer.Name),me(t[0].Net_Balance),xe(t[0].Net_Balance),fe(t[0].Net_received),le(t[0].Net_received)},Be=function(){Ce(!1),Fe(!1)},qe=function(){F(S+1),console.log("data refresh: "+S)};Object(c.useEffect)((function(){ze()}),[l]);var ze=function(){var e=Object(f.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l?(a=A.filter((function(e){return e.Customer.Name.toLowerCase().includes(l)||e.id==l||e.driver.toLowerCase().includes(l)||e.broker.toLowerCase().includes(l)||e.Car_no.toLowerCase().includes(l)})),console.log("result :",a),W(a)):(W(A),console.log("row :",Y));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=Object(c.useState)(),We=Object(n.a)(Ye,2),Je=We[0],Ue=We[1];return Object(c.useEffect)((function(){d.a.get("http://localhost:5000/flock/".concat(t)).then((function(e){console.log(e.data.flock),Ue(e.data.flock.flock)})).catch((function(e){console.log(e)}))}),[t]),Object(c.useEffect)((function(){if(be<0){var e=Number(se)-Number(ie);xe(be+Number(ie)),fe(e),console.log("received: "+Ne)}else{var t=Number(se)+Number(ie);fe(t),xe(be-Number(ie)),console.log(t)}}),[ie]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"card mx-3",children:[Object(u.jsx)("div",{className:"card-header bg-success ",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-md-5",children:Object(u.jsxs)("p",{className:" m-0 text-light pt-2",children:["Orders  of Flock ",Je]})}),Object(u.jsxs)("div",{className:"col-md-7",children:[Object(u.jsxs)("div",{className:"searchInput",children:[Object(u.jsx)("span",{className:"icon",children:Object(u.jsx)(v.b,{})}),Object(u.jsx)("input",{type:"search",id:"search",onChange:function(e){e.target.value?i(e.target.value):W(A)},placeholder:"Search..."})]}),Object(u.jsx)("button",{className:"btn-icon   float-end shadow",style:{marginRight:".5em"},"data-toggle":"popover","aria-label":"refresh orders",onClick:function(){return F(S+1)},"data-cooltipz-dir":"bottom",children:Object(u.jsx)(o.f,{})})]})]})}),Object(u.jsxs)("div",{className:"card-body ",children:[Le&&Object(u.jsxs)("div",{class:"alert alert-success d-flex align-items-center",role:"alert",children:[Object(u.jsx)(y.a,{}),Object(u.jsx)("div",{children:"Order has been deleted successfully"})]}),Te&&Object(u.jsxs)("div",{class:"alert alert-danger d-flex align-items-center",role:"alert",children:[Object(u.jsx)(o.d,{}),Object(u.jsx)("div",{children:"Order could not delete. Please try again or Restart your pc || app"})]}),G?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:C,width:"600px",height:"400px"}),Object(u.jsx)("h3",{className:"text-danger",children:"Someting is wrong please Restart your app "})]}):A&&Y?0==!A.length?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"table-responsive",children:Object(u.jsxs)("table",{className:"table table-bordered table-striped table-hover",children:[Object(u.jsx)("caption",{children:"Confirm Orders"}),Object(u.jsx)("thead",{className:"",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"order#"}),Object(u.jsx)("th",{children:"Customer"}),Object(u.jsx)("th",{children:"Car"}),Object(u.jsx)("th",{children:"Broker"}),Object(u.jsx)("th",{children:"Weight"}),Object(u.jsx)("th",{children:"Payments"}),Object(u.jsx)("th",{children:"Date"}),Object(u.jsx)("th",{children:"Actions"})]})}),Object(u.jsx)("tbody",{children:Y.map((function(e,a){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{scope:"row",children:a+1}),Object(u.jsx)("td",{children:e.id<=9?"000"+e.id:e.id<=99?"00"+e.id:e.id<=999?"0"+e.id:e.id}),Object(u.jsxs)("td",{children:[Object(u.jsx)(O.b,{to:"/customer/".concat(e.Customer.id,"/").concat(t),children:e.Customer.Name})," ",Object(u.jsx)("br",{}),Object(u.jsx)("small",{children:e.Customer.phone})]}),Object(u.jsxs)("td",{children:["Driver: ",e.driver,Object(u.jsx)("br",{}),Object(u.jsxs)("small",{children:["Car No# ",e.Car_no]})]}),Object(u.jsx)("td",{children:e.broker}),Object(u.jsxs)("td",{children:["First weight: ",e.f_weight,Object(u.jsx)("br",{}),"Second weight:  ",e.l_weight,Object(u.jsx)("br",{}),"Net weight: ",e.Net_weight]}),Object(u.jsxs)("td",{children:["Rate: ",e.Rate,", Total: ",e.Total_payment,Object(u.jsx)("br",{}),"Advancev:  ",e.advance,", received (2nd payment):  ",e.received_payment,Object(u.jsx)("br",{}),"Net Received :  ",e.Net_received,Object(u.jsx)("br",{}),Object(u.jsxs)("span",{className:"text-danger",children:["Balance: ",e.Balance]}),", Net Balance: ",e.Net_Balance]}),Object(u.jsxs)("td",{children:[e.Date,Object(u.jsx)("br",{}),Object(u.jsx)("small",{children:e.time})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"btn-icon bg-danger  float-end shadow action mt-2  ","data-toggle":"popover","aria-label":"delete order",onClick:function(){return function(e){console.log("delete id: "+e),d.a.delete("http://localhost:5000/order/".concat(e)).then((function(e){e.data.delete?(F(S+1),De(!1),Me(!0),setTimeout((function(){return Me(!1)}),5e3)):De(!0),console.log(e.data.msg),F(S+1)})).catch((function(e){De(!0),console.log(e)}))}(e.id)},"data-cooltipz-dir":"bottom",children:Object(u.jsx)(o.e,{})}),Object(u.jsx)("button",{type:"button",className:"btn-icon bg-warning float-end shadow action mt-2 ","data-toggle":"popover","data-bs-toggle":"modal","data-bs-target":"#EditOrder",onClick:function(){return Ae(e.id)},"aria-label":"pay","data-cooltipz-dir":"bottom",children:Object(u.jsx)(M.a,{})}),Object(u.jsx)("button",{type:"button",className:"btn-icon bg-warning float-end shadow action mt-2 ","data-toggle":"popover","data-bs-toggle":"modal","data-bs-target":"#orderdetail",onClick:function(){return Ae(e.id)},"aria-label":"Order detail","data-cooltipz-dir":"bottom",children:Object(u.jsx)(R.a,{})})]})]},a)}))})]})})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:E,width:"600px",height:"400px"}),Object(u.jsx)("h2",{className:"text-info",children:"Sorry There are no Orders "})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:k,width:"600px",height:"400px"}),Object(u.jsx)("h2",{className:"text-info",children:"Loading... "})]})]}),Object(u.jsx)("div",{className:"modal fade",id:"EditOrder",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Pay Order"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{className:"modal-body",children:Ee?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:C,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-danger",children:"Sorry something is wrong, Please Try Again"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:Be,"data-bs-dismiss":"modal",children:"Close"})})]}):we?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:w,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-success",children:"Customer added Succesfully"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:Be,"data-bs-dismiss":"modal",children:"Close"})})]}):Object(u.jsx)(u.Fragment,{children:A?Object(u.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),d.a.put("http://localhost:5000/order/".concat(h.id),{Net_received:Ne,Net_Balance:ue,date:m()().format("MMM Do YY"),time:m()().format(" h:mm:ss a")}).then((function(e){console.log(e),e.data.edit?(xe(""),de(""),Ce(!0)):Fe(!0),qe()})).catch((function(e){console.log(e),Fe(!0)}))}(e)},children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Customer"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",disabled:!0,value:ee})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Net Received"}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none",placeholder:"Enter Advance payment",value:Ne,disabled:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Total"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control shadow-none",value:Q,disabled:!0,required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Net Balance"}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none",placeholder:"Enter Advance payment",value:ue,disabled:!0})]}),be<=0?Object(u.jsxs)("div",{className:"input-group mb-3",children:[Object(u.jsx)("div",{class:"input-group-prepend",children:Object(u.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"-"})}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none ",placeholder:ie,value:Math.abs(ie),onChange:function(e){return de(e.target.value)},required:!0})]}):Object(u.jsxs)("div",{className:"input-group mb-3",children:[Object(u.jsx)("div",{class:"input-group-prepend",children:Object(u.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"+"})}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none ",placeholder:ie,value:ie,onChange:function(e){return de(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]}):Object(u.jsx)("h1",{children:"Loading.."})})})]})})}),Object(u.jsx)("div",{className:"modal fade",id:"orderdetail",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Order Details"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{className:"modal-body ",ref:_,id:"PrintOrder",children:Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("dl",{class:"row",children:[Object(u.jsxs)("div",{className:"col-md-12   text-center",children:[Object(u.jsx)("h2",{className:" text-primary",children:"Sanan Poultry Farm "}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{className:"bg-primary text-light p-1",children:"Zarobai, Topi, Swabi, Khyber Pakhtunkhwa"}),Object(u.jsx)("br",{}),"Phone: 0345-8585889"]})]}),Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("p",{className:"p-title",children:"Order#"}),Je,Object(u.jsx)("p",{className:"p-title",children:"Date:"}),Object(u.jsxs)("p",{className:"p-value",style:{width:"16em"},children:[h&&h.Date," ",h&&h.time]})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("p",{className:"p-title",children:"Customer:"}),Object(u.jsx)("p",{className:"p-value",children:h&&h.Customer.Name}),Object(u.jsx)("p",{className:"p-title",children:"Broker:"}),Object(u.jsx)("p",{className:"p-value",children:h&&h.broker})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("p",{className:"p-title",children:"Driver:"}),Object(u.jsx)("p",{className:"p-value",children:h&&h.driver}),Object(u.jsx)("p",{className:"p-title",children:"Car#"}),Object(u.jsx)("p",{className:"p-value",children:h&&h.Car_no})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"p-heading mb-1 text-center",children:"Weight"}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("div",{className:"p-title",style:{width:"15em"},children:"Car weight (first weight)"}),Object(u.jsx)("div",{className:"p-value",children:h&&h.f_weight})]}),Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("div",{className:"p-title",style:{width:"15em"},children:"Car weight (Second weight)"}),Object(u.jsx)("div",{className:"p-value",children:h&&h.l_weight})]}),Object(u.jsxs)("p",{className:"row-one pb-2",children:[Object(u.jsx)("div",{className:"p-title",style:{width:"15em"},children:"Net Weight"}),Object(u.jsx)("div",{className:"p-value",children:h&&h.Net_weight})]})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"p-heading mt-0 mb-1 text-center",children:"Payments"}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("div",{className:"p-title",children:"Rate"}),Object(u.jsxs)("div",{className:"p-value",children:[" ",h&&h.Rate]}),Object(u.jsx)("div",{className:"p-title",style:{width:"16em"},children:"Advance (1st payment)"}),Object(u.jsx)("div",{className:"p-value",style:{width:"5em"},children:h&&h.advance})]}),Object(u.jsxs)("div",{className:"row-one ",children:[Object(u.jsx)("div",{className:"p-title"}),Object(u.jsx)("div",{className:"p-value",children:" "}),Object(u.jsx)("div",{className:"p-title",style:{width:"16em"},children:"Received (2nd payment)"}),Object(u.jsx)("div",{className:"p-value",style:{width:"5em"},children:h&&h.Net_received})]}),Object(u.jsxs)("div",{className:"row-one  ",children:[Object(u.jsx)("div",{className:"p-title",children:"Total"}),Object(u.jsxs)("div",{className:"p-value",children:[" ",h&&h.Total_payment]}),Object(u.jsx)("div",{className:"p-title",style:{width:"16em"},children:"Net Balance"}),Object(u.jsx)("div",{className:"p-value",style:{width:"5em"},children:h&&h.Net_Balance})]})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"row-one",style:{justifyContent:"space-between"},children:[Object(u.jsx)("div",{className:"sign",children:"Farm"}),Object(u.jsx)("div",{className:"sign",children:"Receiver"})]})]})})}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)(D.a,{copyStyles:"true",trigger:function(){return Object(u.jsx)("button",{type:"button",className:"btn btn-warning","data-bs-dismiss":"modal",children:"Print"})},content:function(){return _.current}}),Object(u.jsx)("button",{type:"button",onClick:function(){var e=document.getElementById("PrintOrder");L()(e).then((function(e){var t=e.toDataURL("image/jpg"),a=new I.a({orientation:"portrait",unit:"in",format:[5,8]});a.addImage(t,"JPEG",0,0),a.save()}))},className:"btn btn-primary",children:"Download"})]})]})})})]})})},B=a(12);var q=function(e){var t=Object(r.i)().id,a=Object(c.useRef)(),s=Object(c.useState)(),l=Object(n.a)(s,2),i=l[0],j=l[1],b=Object(c.useState)(),h=Object(n.a)(b,2),x=h[0],p=h[1],g=Object(c.useState)(0),S=Object(n.a)(g,2),F=S[0],T=S[1],P=Object(c.useState)(),M=Object(n.a)(P,2),A=M[0],q=M[1],z=Object(c.useState)(A),Y=Object(n.a)(z,2),W=Y[0],J=Y[1],U=Object(c.useState)(!1),G=Object(n.a)(U,2),K=G[0],Z=G[1],H=Object(c.useState)(""),Q=Object(n.a)(H,2),V=Q[0],X=Q[1],$=Object(c.useState)(""),ee=Object(n.a)($,2),te=ee[0],ae=ee[1],ce=Object(c.useState)(""),se=Object(n.a)(ce,2),le=se[0],ne=se[1],re=Object(c.useState)(""),ie=Object(n.a)(re,2),de=ie[0],oe=ie[1],je=Object(c.useState)(0),be=Object(n.a)(je,2),me=be[0],he=be[1],Oe=Object(c.useState)(""),ue=Object(n.a)(Oe,2),xe=ue[0],pe=ue[1],ge=Object(c.useState)(""),Ne=Object(n.a)(ge,2),fe=Ne[0],ve=Ne[1],ye=Object(c.useState)(""),we=Object(n.a)(ye,2),Ce=we[0],Se=we[1],ke=Object(c.useState)(""),Ee=Object(n.a)(ke,2),Fe=Ee[0],_e=Ee[1],Re=Object(c.useState)(0),Te=Object(n.a)(Re,2),De=Te[0],Ie=Te[1],Pe=Object(c.useState)(0),Le=Object(n.a)(Pe,2),Me=(Le[0],Le[1]),Ae=Object(c.useState)(0),Be=Object(n.a)(Ae,2),qe=Be[0],ze=Be[1],Ye=Object(c.useState)(0),We=Object(n.a)(Ye,2),Je=(We[0],We[1]),Ue=Object(c.useState)(0),Ge=Object(n.a)(Ue,2),Ke=Ge[0],Ze=Ge[1],He=Object(c.useState)(0),Qe=Object(n.a)(He,2),Ve=Qe[0],Xe=Qe[1],$e=Object(c.useState)(""),et=Object(n.a)($e,2),tt=et[0],at=et[1],ct=Object(c.useState)(!1),st=Object(n.a)(ct,2),lt=st[0],nt=st[1],rt=Object(c.useState)(!1),it=Object(n.a)(rt,2),dt=it[0],ot=it[1],jt=Object(c.useState)(!1),bt=Object(n.a)(jt,2),mt=bt[0],ht=bt[1],Ot=Object(c.useState)(!1),ut=Object(n.a)(Ot,2),xt=ut[0],pt=ut[1];Object(c.useEffect)((function(){d.a.get("http://localhost:5000/pendingorders/".concat(t)).then((function(e){q(e.data),J(e.data),console.log(e.data)})).catch((function(e){Z(!0),console.log(e)}))}),[F,t]);var gt=Object(c.useState)(),Nt=Object(n.a)(gt,2),ft=Nt[0],vt=Nt[1];Object(c.useEffect)((function(){d.a.get("http://localhost:5000/flock/".concat(t)).then((function(e){console.log(e.data.flock),vt(e.data.flock.flock)})).catch((function(e){console.log(e)}))}),[t]);var yt=function(e){var t=A.filter((function(t){return t.id==e}));p(t[0]),X(t[0].Car_no),ae(t[0].broker),ne(t[0].f_weight),at(t[0].driver),pe(t[0].Rate),_e(t[0].advance),Me(t[0].id),ze(t[0].Customer.Name),Je(t[0].Customer.id)},wt=function(){nt(!1),ot(!1)},Ct=function(){T(F+1),console.log("data refresh: "+F)};Object(c.useEffect)((function(){St()}),[i]);var St=function(){var e=Object(f.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i?(a=A.filter((function(e){return e.Customer.Name.toLowerCase().includes(i)||e.id==i||e.driver.toLowerCase().includes(i)||e.broker.toLowerCase().includes(i)||e.Car_no.toLowerCase().includes(i)})),console.log("result :",a),J(a)):(J(A),console.log("row :",W));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=Number(Ke)+Fe;ve(De-e),Se(De-e)}),[Ke,Fe,me,xe]),Object(c.useEffect)((function(){Number(Ke);if(Ce<0){var e=Number(Ke)+Fe-(Math.abs(Ce)-Number(fe));Xe(e),console.log("received: "+Ve)}else{var t=Number(Ke)+Fe;Xe(t),console.log(t)}}),[Ke,Fe,me,xe,fe]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header bg-primary ",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-md-5",children:Object(u.jsxs)("p",{className:" m-0 text-light pt-2",children:["Pending Orders of Flock ",ft," "]})}),Object(u.jsxs)("div",{className:"col-md-7",children:[Object(u.jsxs)("div",{className:"searchInput",children:[Object(u.jsx)("span",{className:"icon",children:Object(u.jsx)(v.b,{})}),Object(u.jsx)("input",{type:"search",id:"search",onChange:function(e){e.target.value?j(e.target.value):J(A)},placeholder:"Search..."})]}),Object(u.jsx)(_,{Refresh:Ct,flock:e.flock})]})]})}),Object(u.jsxs)("div",{className:"card-body ",children:[xt&&Object(u.jsxs)("div",{className:"alert alert-success d-flex align-items-center",role:"alert",children:[Object(u.jsx)(y.a,{}),Object(u.jsx)("div",{children:"Order has been deleted successfully"})]}),mt&&Object(u.jsxs)("div",{className:"alert alert-danger d-flex align-items-center",role:"alert",children:[Object(u.jsx)(o.d,{}),Object(u.jsx)("div",{children:"Order could not delete. Please try again or Restart your pc || app"})]}),K?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:C,width:"600px",height:"400px"}),Object(u.jsx)("h3",{className:"text-danger",children:"Someting is wrong please Restart your app "})]}):A&&W?0==!A.length?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"table-responsive",children:Object(u.jsxs)("table",{className:"table table-bordered table-striped table-hover",children:[Object(u.jsx)("caption",{children:"Pending Orders"}),Object(u.jsx)("thead",{className:"",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Customer"}),Object(u.jsx)("th",{children:"Car"}),Object(u.jsx)("th",{children:"Broker"}),Object(u.jsx)("th",{children:"Frist Weight"}),Object(u.jsx)("th",{children:"Price"}),Object(u.jsx)("th",{children:"Date"}),Object(u.jsx)("th",{children:"Actions"})]})}),Object(u.jsx)("tbody",{children:W.map((function(e,a){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{scope:"row",children:a+1}),Object(u.jsxs)("td",{children:[Object(u.jsx)(O.b,{to:"/customer/".concat(e.Customer.id,"/").concat(t),children:e.Customer.Name})," ",Object(u.jsx)("br",{}),Object(u.jsx)("small",{children:e.Customer.phone})]}),Object(u.jsxs)("td",{children:[e.driver,Object(u.jsx)("br",{}),Object(u.jsx)("small",{children:e.Car_no})]}),Object(u.jsx)("td",{children:e.broker}),Object(u.jsx)("td",{children:e.f_weight}),Object(u.jsxs)("td",{children:[e.Rate,Object(u.jsx)("br",{}),Object(u.jsx)("small",{children:e.advance})]}),Object(u.jsxs)("td",{children:[e.Date,Object(u.jsx)("br",{}),Object(u.jsx)("small",{children:e.time})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"btn-icon bg-danger  float-end shadow action mt-2  ","data-toggle":"popover","aria-label":"delete order",onClick:function(){return function(e){console.log("delete id: "+e),d.a.delete("http://localhost:5000/order/".concat(e)).then((function(e){e.data.delete?(T(F+1),ht(!1),pt(!0),setTimeout((function(){return pt(!1)}),5e3)):ht(!0),console.log(e.data.msg),T(F+1)})).catch((function(e){ht(!0),console.log(e)}))}(e.id)},"data-cooltipz-dir":"bottom",children:Object(u.jsx)(o.e,{})}),Object(u.jsx)("button",{type:"button",className:"btn-icon bg-info float-end shadow action mt-2 ","data-toggle":"popover","data-bs-toggle":"modal","data-bs-target":"#confirmorder",onClick:function(){return yt(e.id)},"aria-label":"Confirm this Order","data-cooltipz-dir":"bottom",children:Object(u.jsx)(o.b,{})}),Object(u.jsx)("button",{type:"button",className:"btn-icon bg-warning float-end shadow action mt-2 ","data-toggle":"popover","data-bs-toggle":"modal","data-bs-target":"#pendingorderdetail",onClick:function(){return yt(e.id)},"aria-label":"Order detail","data-cooltipz-dir":"bottom",children:Object(u.jsx)(R.a,{})})]})]},a)}))})]})})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:E,width:"600px",height:"400px"}),Object(u.jsx)("h2",{className:"text-info",children:"Sorry There are no pending Orders "})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:k,width:"600px",height:"400px"}),Object(u.jsx)("h2",{className:"text-info",children:"Loading... "})]})]}),Object(u.jsx)("div",{className:"modal fade",id:"confirmorder",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Confirm Order"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{className:"modal-body",children:dt?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:C,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-danger",children:"Sorry something is wrong, Please Try Again"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:wt,"data-bs-dismiss":"modal",children:"Close"})})]}):lt?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:w,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-success",children:"Customer added Succesfully"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:wt,"data-bs-dismiss":"modal",children:"Close"})})]}):Object(u.jsx)(u.Fragment,{children:A?Object(u.jsxs)("form",{onSubmit:function(e){return function(e){var t;e.preventDefault(),d.a.put("http://localhost:5000/confirmorder/".concat(x.id),(t={customer_id:qe,car:V,broker:te,f_weight:le,driver:tt},Object(B.a)(t,"car",V),Object(B.a)(t,"l_weight",de),Object(B.a)(t,"Net_weight",me),Object(B.a)(t,"Rate",xe),Object(B.a)(t,"advance",Fe),Object(B.a)(t,"total",De),Object(B.a)(t,"received_payment",Ke),Object(B.a)(t,"Net_received",Ve),Object(B.a)(t,"Net_Amount",fe),Object(B.a)(t,"Balance",Ce),Object(B.a)(t,"Net_Balance",Ce<0?-fe:fe),Object(B.a)(t,"date",m()().format("MMM Do YY")),Object(B.a)(t,"time",m()().format(" h:mm:ss a")),t)).then((function(e){console.log("rconfirm order:  "+e.data),e.data.edit?(X(""),ae(""),ne(""),at(""),Ie(""),pe(""),oe(""),he(""),_e(""),Ze(""),Se(""),ve(""),nt(!0)):ot(!0),Ct()})).catch((function(e){console.log(e),ot(!0)}))}(e)},children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Customer"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",disabled:!0,value:qe})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Car #"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",placeholder:"Enter Car #",value:V,onChange:function(e){return X(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Broker"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",placeholder:"Enter broker Name",value:te,onChange:function(e){return ae(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Car Driver"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",placeholder:"Enter Car Driver Name",value:tt,onChange:function(e){return at(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Car weight (first weight)"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control shadow-none",placeholder:"Enter Car first weight",value:le,onChange:function(e){return ne(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Car weight (second weight)"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control shadow-none",placeholder:"Enter Car second weight",value:de,onChange:function(e){return function(e){oe(e.target.value),he(e.target.value-le),Ie((e.target.value-le)*xe)}(e)},required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Net Weight"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control shadow-none",placeholder:"Enter Car second weight",value:me,disabled:!0,required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Rate"}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none",placeholder:"Enter Rate",value:xe,onChange:function(e){return function(e){pe(e.target.value),Ie(me*e.target.value)}(e)},required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Advance"}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none",placeholder:"Enter Advance payment",value:Fe,onChange:function(e){return _e(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Received Payment"}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none",placeholder:"Enter Received payment",value:Ke,onChange:function(e){return Ze(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Balance"}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none ",placeholder:Ce,disabled:!0,required:!0})]}),Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Net Amount"}),Ce<=0?Object(u.jsxs)("div",{className:"input-group mb-3",children:[Object(u.jsx)("div",{class:"input-group-prepend",children:Object(u.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"-"})}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none ",placeholder:fe,value:Math.abs(fe),onChange:function(e){return ve(e.target.value)},required:!0})]}):Object(u.jsxs)("div",{className:"input-group mb-3",children:[Object(u.jsx)("div",{class:"input-group-prepend",children:Object(u.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"+"})}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none ",placeholder:fe,value:fe,onChange:function(e){return ve(e.target.value)},required:!0,disabled:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Total"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control shadow-none",value:De,disabled:!0,required:!0})]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]}):Object(u.jsx)("h1",{children:"Loading.."})})})]})})}),Object(u.jsx)("div",{className:"modal fade",id:"pendingorderdetail",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Order Details"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsxs)("div",{className:"modal-body",ref:a,children:[Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"row",id:"printpendingorderdetail",children:[Object(u.jsxs)("div",{className:"col-md-12  pb-4 text-center",children:[Object(u.jsx)("h2",{className:" text-primary",children:"Sanan Poultry Farm "}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{className:"bg-primary text-light p-1",children:"Zarobai, Topi, Swabi, Khyber Pakhtunkhwa"}),Object(u.jsx)("br",{}),"Phone: 0345-8585889"]})]}),Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("p",{className:"p-title",children:"Order#"}),Object(u.jsx)("p",{className:"p-value ",style:{width:"10em"},children:ft}),Object(u.jsx)("p",{className:"p-title",children:"Date:"}),Object(u.jsxs)("p",{className:"p-value",style:{width:"16em"},children:[x&&x.Date," ",x&&x.time]})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("p",{className:"p-title",children:"Customer:"}),Object(u.jsx)("p",{className:"p-value",children:x&&x.Customer.Name}),Object(u.jsx)("p",{className:"p-title",children:"Broker:"}),Object(u.jsx)("p",{className:"p-value",children:x&&x.broker})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"p-heading",children:"Car"}),Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("p",{className:"p-title",children:"Driver:"}),Object(u.jsx)("p",{className:"p-value",children:x&&x.driver}),Object(u.jsx)("p",{className:"p-title",children:"Car#"}),Object(u.jsx)("p",{className:"p-value",children:x&&x.Car_no})]})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"p-heading",children:"Weight"}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("p",{className:"p-title",style:{width:"15em"},children:"Car weight (first weight)"}),Object(u.jsx)("p",{className:"p-value",children:x&&x.f_weight})]})}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"p-heading",children:"Payments"}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("div",{className:"p-title",children:"Rate"}),Object(u.jsx)("div",{className:"p-value",children:x&&x.Rate}),Object(u.jsx)("div",{className:"p-title",children:"Advance"}),Object(u.jsx)("div",{className:"p-value",children:x&&x.advance})]})}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"row-one",style:{justifyContent:"space-between"},children:[Object(u.jsx)("div",{className:"sign",children:"Farm"}),Object(u.jsx)("div",{className:"sign",children:"Receiver"})]})]})}),Object(u.jsx)("div",{style:{display:"none"},children:Object(u.jsx)("div",{ref:a,style:{width:"105mm",height:"148mm"},id:"img"})})]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)(D.a,{trigger:function(){return Object(u.jsx)("button",{type:"button",className:"btn btn-warning","data-bs-dismiss":"modal",children:"Print"})},content:function(){return a.current}}),Object(u.jsx)("button",{type:"button",onClick:function(){return function(e){var t=document.getElementById("printpendingorderdetail");L()(t).then((function(t){var a=t.toDataURL("image/jpg"),c=new I.a({orientation:"portrait",unit:"in",format:[5,8]});c.addImage(a,"JPEG",0,0),c.save(e)}))}(x&&x.id<=9?"000"+x.id:x.id<=99?"00"+x.id:x.id<=999?"0"+x.id:x.id+" "+x.date)},className:"btn btn-primary",children:"Download"})]})]})})})]})})};var z=function(e){var t=Object(c.useState)(),a=Object(n.a)(t,2),s=a[0],l=a[1],i=Object(c.useState)(0),j=Object(n.a)(i,2),b=j[0],m=j[1],h=Object(r.i)().id;return Object(c.useEffect)((function(){d.a.get("http://localhost:5000/states/".concat(h)).then((function(e){l(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[b,h]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"row sparkboxes",children:[Object(u.jsx)("div",{className:"col-md-2",children:Object(u.jsxs)("div",{className:"box box1 ",children:[Object(u.jsx)("h6",{style:{margin:0},children:"Sold"}),Object(u.jsxs)("h2",{className:"spark-box-value",children:[s&&s.sold," kg"]}),Object(u.jsx)("button",{className:"btn-icon   float-end shadow",style:{marginRight:".5em"},"data-toggle":"popover","aria-label":"refresh states",onClick:function(){return m(b+1)},"data-cooltipz-dir":"bottom",children:Object(u.jsx)(o.f,{})})]})}),Object(u.jsx)("div",{className:"col-md-2",children:Object(u.jsxs)("div",{className:"box box2 ",children:[Object(u.jsx)("h6",{style:{margin:0},children:"Total Earn"}),Object(u.jsxs)("h2",{className:"spark-box-value",children:["Rs. ",s&&s.earn," "]})]})}),Object(u.jsx)("div",{className:"col-md-2",children:Object(u.jsxs)("div",{className:"box box3 ",children:[Object(u.jsx)("h6",{style:{margin:0},children:"Received Payment"}),Object(u.jsxs)("h2",{className:"spark-box-value",children:["Rs. ",s&&s.received_payment," "]})]})}),Object(u.jsx)("div",{className:"col-md-2",children:Object(u.jsxs)("div",{className:" box box4 ",children:[Object(u.jsx)("h6",{style:{margin:0},children:"Panding Payments"}),Object(u.jsxs)("h2",{className:"spark-box-value",children:["Rs. ",s&&s.pandingpayment," "]})]})}),Object(u.jsx)("div",{className:"col-md-2",children:Object(u.jsxs)("div",{className:"box box3 ",children:[Object(u.jsx)("h6",{style:{margin:0},children:"Orders #"}),Object(u.jsxs)("h2",{className:"spark-box-value",children:[s&&s.x," "]})]})}),Object(u.jsx)("div",{className:"col-md-2",children:Object(u.jsxs)("div",{className:"box box4 ",children:[Object(u.jsx)("h6",{style:{margin:0},children:"Customers #"}),Object(u.jsxs)("h2",{className:"spark-box-value",children:[s&&s.customers," "]})]})})]})})},Y=function(e){var t=Object(r.i)().id;console.log("flock id is: "+t);var a=Object(c.useState)(),s=Object(n.a)(a,2),l=s[0],i=s[1];return Object(c.useEffect)((function(){d.a.get("http://localhost:5000/flock/".concat(t)).then((function(e){console.log(e.flock.flock.flock),i(e.flock.flock)})).catch((function(e){console.log(e)}))}),[t]),console.log(l),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)(z,{}),Object(u.jsxs)("div",{className:"row mb-5 pt-4",children:[Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)(F,{})}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)(q,{flock:l})})]})]}),Object(u.jsx)(A,{flock:l})]})};var W=function(e){var t=Object(r.i)().flock,a=Object(c.useState)(),s=Object(n.a)(a,2),l=s[0],i=s[1],j=Object(c.useState)(),b=Object(n.a)(j,2),h=b[0],O=b[1],x=Object(c.useState)(0),p=Object(n.a)(x,2),g=p[0],S=p[1],F=Object(c.useRef)(),_=Object(c.useState)(e.data),T=Object(n.a)(_,2),P=T[0],A=T[1],B=Object(c.useState)(e.data),q=Object(n.a)(B,2),z=q[0],Y=q[1],W=Object(c.useState)(!1),J=Object(n.a)(W,2),U=J[0],G=(J[1],Object(c.useState)(0)),K=Object(n.a)(G,2),Z=K[0],H=K[1],Q=Object(c.useState)(e.customer),V=Object(n.a)(Q,2),X=V[0],$=V[1],ee=Object(c.useState)(),te=Object(n.a)(ee,2),ae=te[0],ce=te[1],se=Object(c.useState)(""),le=Object(n.a)(se,2),ne=le[0],re=le[1],ie=Object(c.useState)(""),de=Object(n.a)(ie,2),oe=de[0],je=de[1],be=Object(c.useState)(""),me=Object(n.a)(be,2),he=me[0],Oe=me[1],ue=Object(c.useState)(0),xe=Object(n.a)(ue,2),pe=xe[0],ge=xe[1],Ne=Object(c.useState)(!1),fe=Object(n.a)(Ne,2),ve=fe[0],ye=fe[1],we=Object(c.useState)(!1),Ce=Object(n.a)(we,2),Se=Ce[0],ke=Ce[1],Ee=Object(c.useState)(!1),Fe=Object(n.a)(Ee,2),_e=Fe[0],Re=Fe[1],Te=Object(c.useState)(!1),De=Object(n.a)(Te,2),Ie=De[0],Pe=De[1];Object(c.useEffect)((function(){A(e.data),Y(e.data),$(e.customer),console.log(X)}),[e]);var Le=function(e){var t=P.filter((function(t){return t.id==e}));O(t[0]),H(t[0].Total_payment),je(t[0].Net_Balance),Oe(t[0].Net_Balance),ge(t[0].Net_received),ce(t[0].Net_received)},Me=Object(c.useState)(!1),Ae=Object(n.a)(Me,2),Be=(Ae[0],Ae[1]),qe=function(){ye(!1),ke(!1),Be(!1)},ze=function(){S(g+1),console.log("data refresh: "+g)};Object(c.useEffect)((function(){Ye()}),[l]);var Ye=function(){var e=Object(f.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l?(a=P.filter((function(e){return e.id==l||e.driver.toLowerCase().includes(l)||e.broker.toLowerCase().includes(l)})),console.log("result :",a),Y(a)):(Y(P),console.log("row :",z));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(oe<0){var e=Number(ae)-Number(ne);Oe(oe+Number(ne)),ge(e),console.log("received: "+pe)}else{var t=Number(ae)+Number(ne);ge(t),Oe(oe-Number(ne)),console.log(t)}}),[ne]);var We=Object(c.useState)(),Je=Object(n.a)(We,2),Ue=Je[0],Ge=Je[1];return Object(c.useEffect)((function(){d.a.get("http://localhost:5000/flock/".concat(t)).then((function(e){console.log(e.data.flock),Ge(e.data.flock.flock)})).catch((function(e){console.log(e)}))}),[t]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header bg-success ",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-md-5",children:Object(u.jsx)("p",{className:" m-0 text-light pt-2",children:"Orders"})}),Object(u.jsxs)("div",{className:"col-md-7",children:[Object(u.jsxs)("div",{className:"searchInput",children:[Object(u.jsx)("span",{className:"icon",children:Object(u.jsx)(v.b,{})}),Object(u.jsx)("input",{type:"search",id:"search",onChange:function(e){e.target.value?i(e.target.value):Y(P)},placeholder:"Search..."})]}),Object(u.jsx)("button",{className:"btn-icon   float-end shadow",style:{marginRight:".5em"},"data-toggle":"popover","aria-label":"refresh",onClick:function(){return e.RefreshData()},"data-cooltipz-dir":"bottom",children:Object(u.jsx)(o.f,{})})]})]})}),Object(u.jsxs)("div",{className:"card-body ",children:[Ie&&Object(u.jsxs)("div",{class:"alert alert-success d-flex align-items-center",role:"alert",children:[Object(u.jsx)(y.a,{}),Object(u.jsx)("div",{children:"Order has been deleted successfully"})]}),_e&&Object(u.jsxs)("div",{class:"alert alert-danger d-flex align-items-center",role:"alert",children:[Object(u.jsx)(o.d,{}),Object(u.jsx)("div",{children:"Order could not delete. Please try again or Restart your pc || app"})]}),U?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:C,width:"600px",height:"400px"}),Object(u.jsx)("h3",{className:"text-danger",children:"Someting is wrong please Restart your app "})]}):P&&z?0==!P.length?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"table-responsive",children:Object(u.jsxs)("table",{className:"table table-bordered table-striped table-hover",children:[Object(u.jsx)("caption",{children:"Orders"}),Object(u.jsx)("thead",{className:"",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"order#"}),Object(u.jsx)("th",{children:"Car"}),Object(u.jsx)("th",{children:"Broker"}),Object(u.jsx)("th",{children:"Weight"}),Object(u.jsx)("th",{children:"Payments"}),Object(u.jsx)("th",{children:"Date"}),Object(u.jsx)("th",{children:"Actions"})]})}),Object(u.jsx)("tbody",{children:z.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{scope:"row",children:t+1}),Object(u.jsx)("td",{children:Ue}),Object(u.jsxs)("td",{children:["Driver: ",e.driver,Object(u.jsx)("br",{}),Object(u.jsxs)("small",{children:["Car No# ",e.Car_no]})]}),Object(u.jsx)("td",{children:e.broker}),Object(u.jsxs)("td",{children:["First weight: ",e.f_weight,Object(u.jsx)("br",{}),"Second weight:  ",e.l_weight,Object(u.jsx)("br",{}),"Net weight: ",e.Net_weight]}),Object(u.jsxs)("td",{children:["Rate: ",e.Rate,", Total: ",e.Total_payment,Object(u.jsx)("br",{}),"Advancev:  ",e.advance,", received (2nd payment):  ",e.received_payment,Object(u.jsx)("br",{}),"Net Received :  ",e.Net_received,Object(u.jsx)("br",{}),Object(u.jsxs)("span",{className:"text-danger",children:["Balance: ",e.Balance]}),", Net Balance: ",e.Net_Balance]}),Object(u.jsxs)("td",{children:[e.Date,Object(u.jsx)("br",{}),Object(u.jsx)("small",{children:e.time})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"btn-icon bg-danger  float-end shadow action mt-2  ","data-toggle":"popover","aria-label":"delete order",onClick:function(){return t=e.id,console.log("delete id: "+t),void d.a.delete("http://localhost:5000/order/".concat(t)).then((function(e){e.data.delete?(S(g+1),Re(!1),Pe(!0),setTimeout((function(){return Pe(!1)}),5e3)):Re(!0),console.log(e.data.msg),S(g+1)})).catch((function(e){Re(!0),console.log(e)}));var t},"data-cooltipz-dir":"bottom",children:Object(u.jsx)(o.e,{})}),Object(u.jsx)("button",{type:"button",className:"btn-icon bg-warning float-end shadow action mt-2 ","data-toggle":"popover","data-bs-toggle":"modal","data-bs-target":"#EditOrder",onClick:function(){return Le(e.id)},"aria-label":"Edit this Order","data-cooltipz-dir":"bottom",children:Object(u.jsx)(M.a,{})}),Object(u.jsx)("button",{type:"button",className:"btn-icon bg-warning float-end shadow action mt-2 ","data-toggle":"popover","data-bs-toggle":"modal","data-bs-target":"#corderdetail",onClick:function(){return Le(e.id)},"aria-label":"Order detail","data-cooltipz-dir":"bottom",children:Object(u.jsx)(R.a,{})})]})]},t)}))})]})})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:E,width:"600px",height:"400px"}),Object(u.jsx)("h2",{className:"text-info",children:"Sorry There are no Orders of this customer"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:k,width:"600px",height:"400px"}),Object(u.jsx)("h2",{className:"text-info",children:"Loading... "})]})]}),Object(u.jsx)("div",{className:"modal fade",id:"EditOrder",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit Order"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsxs)("div",{className:"modal-body",children:[Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("p",{className:"p-title",children:"Order#"}),Object(u.jsx)("p",{className:"p-value ",style:{width:"10em"},children:Ue}),Object(u.jsx)("p",{className:"p-title",children:"Date:"}),Object(u.jsxs)("p",{className:"p-value",style:{width:"16em"},children:[h&&h.Date," ",h&&h.time]})]}),Se?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:C,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-danger",children:"Sorry something is wrong, Please Try Again"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:qe,"data-bs-dismiss":"modal",children:"Close"})})]}):ve?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:w,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-success",children:"Customer added Succesfully"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:qe,"data-bs-dismiss":"modal",children:"Close"})})]}):Object(u.jsx)(u.Fragment,{children:P?Object(u.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault();var a={Net_received:pe,Net_Balance:he,date:m()().format("MMM Do YY"),time:m()().format(" h:mm:ss a")};d.a.put("http://localhost:5000/order/".concat(h.id),a,{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),console.log(t.data),t.data.edit?(e.RefreshData(),ce(""),ye(!0)):ke(!0),ze()})).catch((function(e){console.log(e),ke(!0)}))}(t)},children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Customer"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",disabled:!0,value:X.Name})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Net Received"}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none",placeholder:"Enter Advance payment",value:pe,disabled:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Total"}),Object(u.jsx)("input",{type:"number",step:"0.01",className:"form-control shadow-none",value:Z,disabled:!0,required:!0})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Net Balance"}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none",placeholder:"Enter Advance payment",value:he,disabled:!0})]}),oe<=0?Object(u.jsxs)("div",{className:"input-group mb-3",children:[Object(u.jsx)("div",{class:"input-group-prepend",children:Object(u.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"-"})}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none ",placeholder:ne,value:Math.abs(ne),onChange:function(e){return re(e.target.value)},required:!0})]}):Object(u.jsxs)("div",{className:"input-group mb-3",children:[Object(u.jsx)("div",{class:"input-group-prepend",children:Object(u.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"+"})}),Object(u.jsx)("input",{type:"number",className:"form-control shadow-none ",placeholder:ne,value:ne,onChange:function(e){return re(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]}):Object(u.jsx)("h1",{children:"Loading.."})})]})]})})}),Object(u.jsx)("div",{className:"modal fade",id:"corderdetail",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Order Details"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{className:"modal-body",ref:F,id:"PrintCOrder",children:Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("dl",{class:"row",children:[Object(u.jsxs)("div",{className:"col-md-12   text-center",children:[Object(u.jsx)("h2",{className:" text-primary",children:"Sanan Poultry Farm "}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{className:"bg-primary text-light p-1",children:"Zarobai, Topi, Swabi, Khyber Pakhtunkhwa"}),Object(u.jsx)("br",{}),"Phone: 0345-8585889"]})]}),Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("p",{className:"p-title",children:"Order#"}),Object(u.jsx)("p",{className:"p-value ",style:{width:"10em"},children:t}),Object(u.jsx)("p",{className:"p-title",children:"Date:"}),Object(u.jsxs)("p",{className:"p-value",style:{width:"16em"},children:[h&&h.Date," ",h&&h.time]})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("p",{className:"p-title",children:"Customer:"}),Object(u.jsx)("p",{className:"p-value",children:X&&X.Name}),Object(u.jsx)("p",{className:"p-title",children:"Broker:"}),Object(u.jsx)("p",{className:"p-value",children:h&&h.broker})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"p-heading",children:"Car"}),Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("p",{className:"p-title",children:"Driver:"}),Object(u.jsx)("p",{className:"p-value",children:h&&h.driver}),Object(u.jsx)("p",{className:"p-title",children:"Car#"}),Object(u.jsx)("p",{className:"p-value",children:h&&h.Car_no})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"p-heading",children:"Weight"}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("div",{className:"p-title",style:{width:"15em"},children:"Car weight (first weight)"}),Object(u.jsx)("div",{className:"p-value",children:h&&h.f_weight})]}),Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("div",{className:"p-title",style:{width:"15em"},children:"Car weight (Second weight)"}),Object(u.jsx)("div",{className:"p-value",children:h&&h.l_weight})]}),Object(u.jsxs)("p",{className:"row-one pb-2",children:[Object(u.jsx)("div",{className:"p-title",style:{width:"15em"},children:"Net Weight"}),Object(u.jsx)("div",{className:"p-value",children:h&&h.Net_weight})]})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"p-heading mt-0 mb-1 text-center",children:"Payments"}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"row-one",children:[Object(u.jsx)("div",{className:"p-title",children:"Rate"}),Object(u.jsxs)("div",{className:"p-value",children:[" ",h&&h.Rate]}),Object(u.jsx)("div",{className:"p-title",style:{width:"16em"},children:"Advance (1st payment)"}),Object(u.jsx)("div",{className:"p-value",style:{width:"5em"},children:h&&h.advance})]}),Object(u.jsxs)("div",{className:"row-one ",children:[Object(u.jsx)("div",{className:"p-title"}),Object(u.jsx)("div",{className:"p-value",children:" "}),Object(u.jsx)("div",{className:"p-title",style:{width:"16em"},children:"Received (2nd payment)"}),Object(u.jsx)("div",{className:"p-value",style:{width:"5em"},children:h&&h.Net_received})]}),Object(u.jsxs)("div",{className:"row-one  ",children:[Object(u.jsx)("div",{className:"p-title",children:"Total"}),Object(u.jsxs)("div",{className:"p-value",children:[" ",h&&h.Total_payment]}),Object(u.jsx)("div",{className:"p-title",style:{width:"16em"},children:"Net Balance"}),Object(u.jsx)("div",{className:"p-value",style:{width:"5em"},children:h&&h.Net_Balance})]})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"row-one",style:{justifyContent:"space-between"},children:[Object(u.jsx)("div",{className:"sign",children:"Farm"}),Object(u.jsx)("div",{className:"sign",children:"Receiver"})]})]})})}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)(D.a,{copyStyles:"true",trigger:function(){return Object(u.jsx)("button",{type:"button",className:"btn btn-warning","data-bs-dismiss":"modal",children:"Print"})},content:function(){return F.current}}),Object(u.jsx)("button",{type:"button",onClick:function(){var e=document.getElementById("PrintCOrder");L()(e).then((function(e){var t=e.toDataURL("image/jpg"),a=new I.a({orientation:"portrait",unit:"in",format:[5,8]});a.addImage(t,"JPEG",0,0),a.save()}))},className:"btn btn-primary",children:"Download"})]})]})})})]})})};var J=function(){var e=Object(r.i)().cid,t=Object(r.i)().flock,a=Object(c.useState)(),s=Object(n.a)(a,2),l=(s[0],s[1],Object(c.useState)()),i=Object(n.a)(l,2),o=i[0],b=i[1],m=Object(c.useState)(),h=Object(n.a)(m,2),x=h[0],p=h[1],g=Object(c.useState)(0),N=Object(n.a)(g,2),f=N[0],S=N[1],k=Object(c.useState)(0),E=Object(n.a)(k,2),F=E[0],_=E[1],R=Object(c.useState)(0),T=Object(n.a)(R,2),D=T[0],I=T[1],P=Object(c.useState)(0),L=Object(n.a)(P,2),M=L[0],A=L[1];Object(c.useEffect)((function(){d.a.get("http://localhost:5000/customer/".concat(e)).then((function(e){b(e.data.customer),p(e.data.orders),S(e.data.Total_payment),_(e.data.received_payment),I(e.data.pandingpayment),console.log(e.data.response.data)})).catch((function(e){console.log(e)}))}),[M]),console.log("total: "+f),console.log("successpay: "+F);var B=function(){A(M+1),console.log("data refresh: "+M)},q=Object(c.useState)(""),z=Object(n.a)(q,2),Y=z[0],J=z[1],U=Object(c.useState)(""),G=Object(n.a)(U,2),K=G[0],Z=G[1],H=Object(c.useState)(""),Q=Object(n.a)(H,2),V=Q[0],X=Q[1],$=Object(c.useState)(""),ee=Object(n.a)($,2),te=ee[0],ae=ee[1],ce=Object(c.useState)(""),se=Object(n.a)(ce,2),le=se[0],ne=se[1],re=Object(c.useState)(!1),ie=Object(n.a)(re,2),de=ie[0],oe=ie[1],je=Object(c.useState)(!1),be=Object(n.a)(je,2),me=be[0],he=be[1],Oe=Object(c.useState)(!1),ue=Object(n.a)(Oe,2),xe=ue[0],pe=ue[1],ge=function(){oe(!1),he(!1)};return xe?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(r.a,{to:"/home/".concat(t)})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("div",{class:"alert alert-secondary mt-4",role:"alert",children:Object(u.jsxs)(O.b,{to:"/home/".concat(t),children:[Object(u.jsx)(v.a,{})," Back To Home"]})}),Object(u.jsxs)("div",{className:"row pt-2",children:[Object(u.jsx)("div",{className:"col-md-2",children:Object(u.jsxs)("ul",{class:"list-group",children:[Object(u.jsxs)("li",{class:"list-group-item active","aria-current":"true",children:[Object(u.jsx)("p",{className:"list-title",children:"Customer:"}),Object(u.jsx)("p",{className:"list-value",children:o&&o.Name})]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("p",{className:"list-title",children:"Contacts:"}),Object(u.jsx)("p",{className:"list-value",children:o&&o.phone}),Object(u.jsx)("p",{className:"list-value",children:o&&o.phone1})]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("p",{className:"list-title",children:"Address:"}),Object(u.jsx)("p",{className:"list-value",children:o&&o.address})]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("p",{className:"list-title",children:"Orders:"}),Object(u.jsx)("p",{className:"list-value",children:x&&x.length?x.length:"0"})]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("p",{className:"list-title",children:"Balance:"}),Object(u.jsxs)("p",{className:"list-value",children:["Rs. ",D]})]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("p",{className:"list-title",children:"Received Payments:"}),Object(u.jsxs)("p",{className:"list-value",children:["Rs. ",F]})]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("p",{className:"list-title",children:"Date:"}),Object(u.jsx)("p",{className:"list-value",children:o&&o.date})]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("p",{className:"list-title",children:"description:"}),Object(u.jsx)("p",{className:"list-value",children:o&&o.des})]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("p",{className:"list-title",children:"Actions:"}),Object(u.jsx)("button",{className:"btn-icon bg-danger action bg-info mt-2 float-end shadow","data-toggle":"popover",onClick:function(){return console.log("delete id: "+e),void d.a.delete("http://localhost:5000/customer/".concat(e)).then((function(e){e.data.delete&&pe(!0)})).catch((function(e){console.log(e)}))},"aria-label":"Delete Customer","data-cooltipz-dir":"bottom",children:Object(u.jsx)(j.b,{})}),Object(u.jsx)("button",{className:"btn-icon bg-warning action bg-info mt-2 float-end shadow","data-toggle":"popover","aria-label":"Edit Customer","data-cooltipz-dir":"bottom","data-bs-toggle":"modal","data-bs-target":"#edit",onClick:function(){return J(o.Name),Z(o.phone),X(o.phone1),ae(o.address),void ne(o.des)},children:Object(u.jsx)(y.b,{})})]})]})}),Object(u.jsx)("div",{className:"col-md-10",children:Object(u.jsx)(W,{data:x,RefreshData:B,customer:o&&o})})]}),Object(u.jsx)("div",{className:"modal fade",id:"edit",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit Customer"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{className:"modal-body",children:me?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:C,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-danger",children:"Sorry something is wrong, Please Try Again"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:ge,"data-bs-dismiss":"modal",children:"Close"})})]}):de?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:w,width:"400px",height:"400px"}),Object(u.jsx)("h2",{className:"text-success",children:"Customer added Succesfully"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:ge,"data-bs-dismiss":"modal",children:"Close"})})]}):Object(u.jsx)(u.Fragment,{children:o?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Name"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",placeholder:"Enter Customer Name",value:Y,onChange:function(e){return J(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Phone 1"}),Object(u.jsx)("input",{type:"Text",className:"form-control shadow-none",placeholder:"Enter phone number",value:K,onChange:function(e){return Z(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Phone 2"}),Object(u.jsx)("input",{type:"Text",placeholder:"Enter another phone number",className:"form-control shadow-none",value:V,onChange:function(e){return X(e.target.value)}})]})]}),Object(u.jsxs)("div",{className:" mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Address"}),Object(u.jsx)("input",{type:"Text",placeholder:"Enter Customer Address",className:"form-control shadow-none",value:te,onChange:function(e){return ae(e.target.value)}})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Description"}),Object(u.jsx)("textarea",{type:"Text",className:"form-control shadow-none",placeholder:"Enter Customer Description ",value:le,onChange:function(e){return ne(e.target.value)}})]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)("button",{type:"submit",onClick:function(){d.a.put("http://localhost:5000/customer/".concat(e),{Name:Y,phone:K,phone1:V,address:te,des:le}).then((function(e){console.log(e),e.data.update?(J(""),Z(""),X(""),ae(""),ne(""),oe(!0)):he(!0),B()})).catch((function(e){console.log(e),he(!0)}))},className:"btn btn-primary",children:"Save"})]})]}):Object(u.jsx)("h1",{children:"Loading.."})})})]})})})]})})};var U=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(O.a,{children:Object(u.jsxs)(r.e,{children:[Object(u.jsx)(r.c,{path:"/",element:Object(u.jsx)(p,{}),children:Object(u.jsx)(r.c,{path:"home/:id",element:Object(u.jsx)(Y,{})})}),Object(u.jsx)(r.c,{exact:!0,path:"/customer/:cid/:flock",element:Object(u.jsx)(J,{})})]})})})};l.a.render(Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(U,{})})})}),document.getElementById("root"))}},[[67,1,3]]]);
//# sourceMappingURL=main.318f3402.chunk.js.map